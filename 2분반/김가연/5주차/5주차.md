# 5주차 Chapter 2-3 ~ 19

## mySQL 기본 사용법
* 실습 코드
  ```
  var mysql = require('mysql'); //mysql 모듈을 mysql 이라는 이름으로 사용하겠다는 선언

  //데이터 베이스에 접속할때 필요한 정보를 객체 형태로 mysql 모듈에 있는 createConnection 메서드에 인수로 전달
  var connection = mysql.createConnection({
      host : 'localhost', //서버주소
      user : 'nodejs', //사용자이름
      password : '111111', //비밀번호
      database : 'opentutorials' //접속할 데이터베이스의 이름
  });
  
  //connect 메서드 호출해 데이터베이스에 접속
  connection.connect();
  
  //query 메서드 이용해 접속한 데이터베이스에 질문던짐. (topic 테이블에 있는 모든 데이털르 읽어온느 질의문)
  connection.query('SELECT * from topic', function(error, results, fields){
      if (error) {
          console.log(error); //에러메세지 출력
      }
      console.log(results); //성공하면 질의문 전달 결과를 두 번째 인수인 results로 받아 출력
  });
  
  connection.end(); //작업 마치면 접속을 끊음.
  ```
## mySQL 명령어 정리
  - CREATE DATABASE opentutorials; --> opentutorials이라는 이름의 데이터베이스를 만드는 명령
  - use opentutorials; --> opentutorials 데이터베이스를 사용하겠다는 명령
  - CREATE TABLE `author` --> author 테이블을 만드는 명령
  - show tables; --> 데이터베이스 안에 있는 테이블들 확인 명령
  - select * from author; --> author 테이블 구조 확인 명령
  - SELECT Host, User FROM mysql.user; --> 현재 데이터베이스 서버에 등록된 사용자 목록이 나타나게 하는 명령
  - INSERT INTO topic (title, description, created, author_id) VALUES('Nodejs, 'Nodeis is...', NOW(), 1); --> <br>
    topic 테이블에 데이터를 삽입하는 명령. (칼럼명) VALUE (저장할 실제 값)<br>
    NOW()는 현재 시각을 나타내는 SQL 내장함수.
 
  - (비주얼 스튜디오에서)npm install --save mysql --> deepndencies에 mysql 모듈을 설치해서 nodejs에서 sql 사용할 수 있게 함
 
## mySQL 모듈을 이용한 홈페이지 구현
* main.js 코드에 내용 추가
  ```
  if (queryData.id === undefined) {
      db.query(`SELECT * FROM topic`, function(error, topics){
        console.log(topics);
        response.writeHead(200);
        reponese.end('Success');
      })
  ```
  - query(데이터베이스에 질의할 내용, 질의문을 실행한 다음 응답받을때 호출되는 콜백함수(에러 발생했을때 전달받는 에러메세지, 성공했을때 전달받는 메세지){})
<br>
* 코드를 mySQL 버전으로 하나씩 변경하는 작업을 수행함. (상세보기기능, create 기능, update 기능, 
